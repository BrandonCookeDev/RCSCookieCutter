<!DOCTYPE html>
<html ng-app='myApp'>
	<head>
		<link rel="stylesheet" type="text/css" href='node_modules/bootstrap/dist/css/bootstrap.min.css' />
		<link rel="stylesheet" type="text/css" href='node_modules/purecss/build/base.css'/>
		<link rel="stylesheet" type="text/css" href='node_modules/purecss/build/forms.css'/>
		<link rel="stylesheet" type="text/css" href='style.css' />
	</head>
	<body>
		<div ng-controller='homeCtrl' id='formDiv' class='container'>
			<form class='pure-form' ng-submit='submitClipRequest()' ng-model='inputFile' id='clipForm'>
				<h2>Clip Creator Form</h2>
				<table>
				<tr>
					<td>Input Video Directory</td>
					<td><input type='text' id='inputFile' ng-model='file.inputFileDirectory' placeholder="absolute path here"/></td>
				</tr>
				<tr>
					<td>Input Video File</td>
					<td>
					<!--
					<input type='text' id='inputFile' ng-model='file.inputFile'/>
					-->
					<input type='file' fileread="file.inputFile"/>
					</td>
				</tr>
				<tr>
					<td>Start Time</td>
					<td>  	 
						 <input type='number' max='99' min='00' ng-model='file.ss.Hour' size='2'/>
						 <input type='number' max='99' min='00' ng-model='file.ss.Minute' size='2'/>
						 <input type='number' max='99' min='00' ng-model='file.ss.Second' size='2'/> 			 
					</td>
				</tr>
				<tr>
					<td>End Time</td>
					<td>		 
						 <input type='number' max='99' min='00' ng-model='file.end.Hour' size='2'/> 
						 <input type='number' max='99' min='00' ng-model='file.end.Minute' size='2'/>
						 <input type='number' max='99' min='00' ng-model='file.end.Second' size='2'/> 
					</td>
				</tr>
				<tr>
					<td>Tournament Name</td>
					<td>  <input type='text' id='tournamentName' ng-model='file.tournamentName' /> </td>
				</tr>
				<tr>
					<td>Bracket Url</td>
					<td><input type='text' id='bracketUrl' ng-model='file.bracketUrl' /></td>
				</tr>
				<tr>
					<td>Round</td>
					<td><input type='text' id='roundText' ng-model='file.round' /></td>
				</tr>
				<tr>
					<td>Player1</td>
					<td><input type='text' id='player1Text' ng-model='file.player1' /></td>
				</tr>
				<tr>
					<td>Player2</td>
					<td><input type='text' id='player2Text' ng-model='file.player2' /></td>
				</tr>
				<tr>
					<td>Output File Name</td>
					<td><input type='text' id='outputFileName' ng-model='file.outputFileName' style='{width: 200px;}'/> </br>
						<input type='button' ng-click='changeOutputFilename()' value='Generate Name' />
					</td>
				</tr>
					<!--
				<tr>
					<td>Audio Off?</td>
					<td><input type='checkbox' ng-false-value='file.yesAudio' ng-true-value='file.noAudio'
										id='audioCheckbox' /></td>
				</tr>
					-->
				</table>
				<input type='submit' value='Generate Clip' id='submitClipForm' />
			</form>
			<br />
			<hr />
			<table class="clipCreationTable">
				<tr>
					<th>OutputFile</th>
					<th>Tournament</th>
					<th>Round</th>
					<th>Player1</th>
					<th>Player2</th>
					<th>StartTime</th>
					<th>EndTime</th>
					<th>Action</th>
					<th>Delete</th>
				</tr>
				<tr ng-repeat="video in videoQueue">
					<td>
						{{ video.file.outputFileName }}
					</td>
					<td>
						{{ video.file.tournamentName }}
					</td>
					<td>
						{{ video.file.round }}
					</td>
					<td>
						{{ video.player1 }}
					</td>
					<td>
						{{ video.player2 }}
					</td>
					<td>
						{{ video.file.ssString }}
					</td>
					<td>
						{{ video.file.endString }}
					</td>
					<td>
						<button ng-click="clip(video)" class="btn btn-success" ng-show="!video.createdTF && !video.uploadedTF">Create Clip</button>
						<button ng-click="upload(video)" class="btn btn-default" ng-show="video.createdTF && !video.uploadedTF" >Upload Clip</button>
						<label ng-show="video.uploadedTF">Complete!</label>
					</td>
					<td>
						<button ng-click="delete(video)" class="btn btn-danger" ng-show="!video.uploadedTF">Delete</button>
					</td>
				</tr>
			</table>
			</form>
		</div>
		
		<script src='node_modules/angular/angular.min.js'></script>
		<script src='node_modules/jquery/dist/jquery.min.js'></script>
		<script src='node_modules/bootstrap/dist/js/bootstrap.min.js'></script>
		<script src='node_modules/dropzone/dist/dropzone.js'></script>
		<script src="lib/underscore.js"></script>
		<script src='clip.js'></script>
		<script src='script.js'></script>
	</body>
</html>